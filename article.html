<!-- Pre-load large images of demo -->
<div style="overflow:hidden; width:0px; height: 0px; pointer-events:none;">
  <img src="http://tympanus.net/Development/NAME/img/something.jpg" style="width: 0; height: 0; opacity: 0;"/>
</div>

After introductory paragraph: 

<div class="ct-featured-img-rss"><a href="http://tympanus.net/Development/NAME/"><!-- Featured Image for RSS Feed --></a></div>

<strong>The demo is kindly sponsored by <a href="" rel="nofollow"></a></strong>. <em>If you would like to sponsor one of our demos, find out more <a href="https://tympanus.net/codrops/advertise/#advertise_demo">here</a>.</em>


<!-- ===================================== -->
<!-- For contributors writing the article: -->

<p>I love visual effects, and i love WebGL and shaders. So let's explode some things today! No icosahedrons were hurt during those experiments, so you can safely proceed reading and viewing!</p>
[main image by crnacura?]
<h2>How to do that?</h2>
<p>So first of all, we need to break object in digital world. Calculate all those fragments shapes.</p>
<p>Easiest way to produce <strong>naturally</strong> looking fragments, is just to look at how... nature does them:</p>
<img src="img/giraffe.jpg" alt="giraffe">
<p>Giraffes have been using those fragments for thousands years.</p>
<p>In math we call them <a href='#'>Voronoi Diagram</a> (after Georgy Feodosevich Voronoy, mathematician).</p> 
<figure>
	<img src="img/voronoi.png" alt="Voronoi">
	<figcaption>
		Image by Mike Bostock done with <a href="https://github.com/d3/d3-delaunay">Voronator</a>
	</figcaption>
</figure>

<p>And we are lucky to have a lot of algorithms to make those diagrams now. Not only on the surface, as giraffes do, but also spatial ones, that break down volumes. We can even partition four dimensional space. But let's stop at 3 dimensions for today's example. I will leave four dimensional explosions as an exercise for the reader.</p>
<p>So first of all, i prepared some models (you could use Blender/Cinema4D for that, or your own Voronoi algorithm):</p>
<figure>
	<img src="img/heart.jpg" alt="heart voronoi spatial diagram">
	<figcaption>
		You can see that this heart is no longer whole. This heart is broken. With Voronoi.
	</figcaption>
</figure>

<p>That looks beautiful by itself, isn't it?❤️ </p>
<p>On the other hand, that was a lot of data to load, so i managed to compress it with glTF file format with Draco compression.</p>
<h2>Shader</h2>
<p>I decided to use THREE.js for the rendering, as it has a lot of useful built-in stuff. Like: i wanted reflective materials, and some utilities to work with my fragments, and lightning.</p>

<p>Of course with that many fragments it is not wise to put calculations on CPU, so it's better to animate that in shaders, i.e. on GPU. There is some really simple vertex shader, to put all those fragments apart:
<pre class="brush:glsl">
	position = rotate(position);
	position += position + direction*progress;
</pre>
<p>Where <code>direction</code> is the explosion direction, and <code>progress</code>, is animation progress. I would calculate direction on CPU and put it in geometry attributes.</p>
<video src="img/video.mp4" muted loop autoplay></video>
<p>Then i used some THREE.js materials and CubeTexture to color all the surfaces, and that's it!</p>
<h2>Inspiration</h2>
<p>During the development, i accidentally typed the wrong variable in one of my shaders, and actually got pretty decent result:</p>
<img src="img/error.jpg" alt="">
<p>So you never know where you end up if you try to do something new!</p>
<p>I hope you liked these demos and short insight into how it works. And this story will inspire you to do more cool things too! Let me know what you think about it, and what ideas you have!</p>




<!-- Can be added in the end of the article -->
<h2>References and Credits</h2>
<ul>
	<li>Photo by <a href="https://unsplash.com/photos/WLig6zy_lKw?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">David Clode</a> on Unsplash</li>
</ul>
